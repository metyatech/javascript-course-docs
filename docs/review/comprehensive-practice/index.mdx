---
title: 総復習
sidebar_label: 総復習
---

import Exercise, { Solution } from "@metyatech/exercise/client";
import { CodePreview } from "@metyatech/code-preview";

## 概要

このページは、これまで学んだ内容（基礎 + UI コンポーネント）をまとめて練習するための総復習ページです。
上から順に解きながら、「要素の取得」→「イベント」→「状態の管理」→「表示の更新」という流れを復習しましょう。

---

<Exercise title="演習1（クリックで1回だけテキスト変更：ガード節）">

要件:

- `開始` ボタンをクリックすると、テキストが「待機」→「実行中」に変わる
- **2 回目以降**にクリックしても、テキストは変わらない（1 回だけ反応）

動作プレビュー:

<CodePreview
  sourceId="review-ex1-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<button id="startBtn">開始</button>
<p id="statusText">待機</p>
```

```js
let startBtnYoso = document.querySelector("#startBtn");
let statusTextYoso = document.querySelector("#statusText");

let isStarted = false;

startBtnYoso.addEventListener("click", function () {
  if (isStarted === false) {
    isStarted = true;
    statusTextYoso.innerText = "実行中";
  }
});
```
</CodePreview>

目安: 5 分

<CodePreview sourceId="review-ex1-starter">
```html
<button id="startBtn">開始</button>
<p id="statusText">待機</p>
```

```js
let startBtnYoso = document.querySelector("#startBtn");
let statusTextYoso = document.querySelector("#statusText");

// TODO: 1回だけ反応するように実装する
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex1-preview" />
</Solution>
</Exercise>

---

<Exercise title="演習2（カウンター：最小/最大を守る）">

要件:

- `+` を押すと数値が 1 増える
- `-` を押すと数値が 1 減る
- 数値は **0〜10 の範囲**から出ない

動作プレビュー:

<CodePreview
  sourceId="review-ex2-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<div class="counter">
  <button id="minusBtn">-</button>
  <span id="countText">0</span>
  <button id="plusBtn">+</button>
</div>
```

```js
let minusBtnYoso = document.querySelector("#minusBtn");
let plusBtnYoso = document.querySelector("#plusBtn");
let countTextYoso = document.querySelector("#countText");

let count = 0;

function updateCountText() {
  countTextYoso.innerText = String(count);
}

minusBtnYoso.addEventListener("click", function () {
  if (count > 0) {
    count = count - 1;
    updateCountText();
  }
});

plusBtnYoso.addEventListener("click", function () {
  if (count < 10) {
    count = count + 1;
    updateCountText();
  }
});
```
</CodePreview>

目安: 10 分

<CodePreview sourceId="review-ex2-starter">
```html
<div class="counter">
  <button id="minusBtn">-</button>
  <span id="countText">0</span>
  <button id="plusBtn">+</button>
</div>
```

```js
let minusBtnYoso = document.querySelector("#minusBtn");
let plusBtnYoso = document.querySelector("#plusBtn");
let countTextYoso = document.querySelector("#countText");

let count = 0;

// TODO: 0〜10 の範囲で count を増減して表示を更新する
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex2-preview" />
</Solution>
</Exercise>

---

<Exercise title="演習3（表示/非表示：classList.toggle で切り替える）">

要件:

- 見出しをクリックすると、答えの表示/非表示が切り替わる
- 切り替えは **クラスの付け外し**で行う（CSS の表示/非表示を JavaScript から直接いじらない）

動作プレビュー:

<CodePreview
  sourceId="review-ex3-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<h3 class="questionTitle">質問</h3>
<div class="answerBox">答え</div>
```

```css
.answerBox {
  display: none;
}

.answerBox.isOpen {
  display: block;
}
```

```js
let questionTitleYoso = document.querySelector(".questionTitle");
let answerBoxYoso = document.querySelector(".answerBox");

questionTitleYoso.addEventListener("click", function () {
  answerBoxYoso.classList.toggle("isOpen");
});
```
</CodePreview>

目安: 10 分

<CodePreview sourceId="review-ex3-starter">
```html
<h3 class="questionTitle">質問</h3>
<div class="answerBox">答え</div>
```

```css
.answerBox {
  display: none;
}

.answerBox.isOpen {
  display: block;
}
```

```js
let questionTitleYoso = document.querySelector(".questionTitle");
let answerBoxYoso = document.querySelector(".answerBox");

// TODO: クリックで isOpen を付け外しする
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex3-preview" />
</Solution>
</Exercise>

---

<Exercise title="演習4（関数：引数を使って合計を増やす）">

要件:

- `+100円` を押すと、合計が 100 増える
- `+500円` を押すと、合計が 500 増える
- `リセット` を押すと、合計が 0 に戻る
- 合計の更新は、引数ありの関数（例: `addAmount(100)`）を使って実装する

動作プレビュー:

<CodePreview
  sourceId="review-ex4-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<button id="add100Btn">+100円</button>
<button id="add500Btn">+500円</button>
<button id="resetBtn">リセット</button>
<p id="totalText">合計: 0円</p>
```

```js
let add100BtnYoso = document.querySelector("#add100Btn");
let add500BtnYoso = document.querySelector("#add500Btn");
let resetBtnYoso = document.querySelector("#resetBtn");
let totalTextYoso = document.querySelector("#totalText");

let total = 0;

function renderTotal() {
  totalTextYoso.innerText = "合計: " + total + "円";
}

function addAmount(amount) {
  total = total + amount;
  renderTotal();
}

renderTotal();

add100BtnYoso.addEventListener("click", function () {
  addAmount(100);
});

add500BtnYoso.addEventListener("click", function () {
  addAmount(500);
});

resetBtnYoso.addEventListener("click", function () {
  total = 0;
  renderTotal();
});
```
</CodePreview>

目安: 10 分

<CodePreview sourceId="review-ex4-starter">
```html
<button id="add100Btn">+100円</button>
<button id="add500Btn">+500円</button>
<button id="resetBtn">リセット</button>
<p id="totalText">合計: 0円</p>
```

```js
let add100BtnYoso = document.querySelector("#add100Btn");
let add500BtnYoso = document.querySelector("#add500Btn");
let resetBtnYoso = document.querySelector("#resetBtn");
let totalTextYoso = document.querySelector("#totalText");

let total = 0;

function renderTotal() {
  // TODO: total の値を表示する
}

function addAmount(amount) {
  // TODO: total を amount 分増やして renderTotal を呼ぶ
}

// TODO: それぞれのボタンで addAmount を呼ぶ / リセットする
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex4-preview" />
</Solution>
</Exercise>

---

<Exercise title="演習5（オブジェクト：状態をまとめて管理する）">

要件:

- `+10pt` を押すとポイントが 10 増える
- `リセット` を押すとポイントが 0 に戻る
- 状態はオブジェクト（例: `player.point`）で管理する

動作プレビュー:

<CodePreview
  sourceId="review-ex5-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<div class="box">
  <button id="addBtn">+10pt</button>
  <button id="resetBtn">リセット</button>
  <p id="playerText">プレイヤー: - / ポイント: 0</p>
</div>
```

```js
let addBtnYoso = document.querySelector("#addBtn");
let resetBtnYoso = document.querySelector("#resetBtn");
let playerTextYoso = document.querySelector("#playerText");

let player = {
  name: "Sato",
  point: 0,
};

function renderPlayer() {
  playerTextYoso.innerText =
    "プレイヤー: " + player.name + " / ポイント: " + player.point;
}

renderPlayer();

addBtnYoso.addEventListener("click", function () {
  player.point = player.point + 10;
  renderPlayer();
});

resetBtnYoso.addEventListener("click", function () {
  player.point = 0;
  renderPlayer();
});
```
</CodePreview>

目安: 15 分

<CodePreview sourceId="review-ex5-starter">
```html
<div class="box">
  <button id="addBtn">+10pt</button>
  <button id="resetBtn">リセット</button>
  <p id="playerText">プレイヤー: - / ポイント: 0</p>
</div>
```

```js
let addBtnYoso = document.querySelector("#addBtn");
let resetBtnYoso = document.querySelector("#resetBtn");
let playerTextYoso = document.querySelector("#playerText");

let player = {
  name: "Sato",
  point: 0,
};

function renderPlayer() {
  // TODO: player の内容を playerTextYoso に表示する
}

// TODO: クリックで player.point を更新して renderPlayer を呼ぶ
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex5-preview" />
</Solution>
</Exercise>

---

<Exercise title="演習6（UIパターン：もっと見る / 閉じる）">

要件:

- 最初は文章を短く表示する（高さ制限 + はみ出しは隠す）
- `もっと見る` を押すと全文が見える
- もう一度押すと `閉じる` になり、短い表示に戻る

動作プレビュー:

<CodePreview
  sourceId="review-ex6-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<div class="card">
  <h3>商品説明</h3>
  <p class="moreText">
    これはサンプルの文章です。長い文章を想定しています。これはサンプルの文章です。長い文章を想定しています。
    これはサンプルの文章です。長い文章を想定しています。これはサンプルの文章です。長い文章を想定しています。
    これはサンプルの文章です。長い文章を想定しています。これはサンプルの文章です。長い文章を想定しています。
  </p>
  <button id="toggleBtn">もっと見る</button>
</div>
```

```css
.moreText {
  max-height: 3.2em;
  overflow: hidden;
}

.moreText.isOpen {
  max-height: none;
}
```

```js
let toggleBtnYoso = document.querySelector("#toggleBtn");
let moreTextYoso = document.querySelector(".moreText");

toggleBtnYoso.addEventListener("click", function () {
  let isOpenNow = moreTextYoso.classList.toggle("isOpen");

  if (isOpenNow === true) {
    toggleBtnYoso.innerText = "閉じる";
  } else {
    toggleBtnYoso.innerText = "もっと見る";
  }
});
```
</CodePreview>

目安: 20 分

<CodePreview sourceId="review-ex6-starter">
```html
<div class="card">
  <h3>商品説明</h3>
  <p class="moreText">
    これはサンプルの文章です。長い文章を想定しています。これはサンプルの文章です。長い文章を想定しています。
    これはサンプルの文章です。長い文章を想定しています。これはサンプルの文章です。長い文章を想定しています。
    これはサンプルの文章です。長い文章を想定しています。これはサンプルの文章です。長い文章を想定しています。
  </p>
  <button id="toggleBtn">もっと見る</button>
</div>
```

```css
.moreText {
  max-height: 3.2em;
  overflow: hidden;
}

.moreText.isOpen {
  max-height: none;
}
```

```js
let toggleBtnYoso = document.querySelector("#toggleBtn");
let moreTextYoso = document.querySelector(".moreText");

// TODO: クリックで isOpen を切り替え、ボタン文字も切り替える
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex6-preview" />
</Solution>
</Exercise>

---

<Exercise title="演習7（タブ切り替え：querySelectorAll + ループ）">

要件:

- タブをクリックすると、対応するパネルだけが表示される
- 「選ばれているタブ」には `isActive` クラスを付ける
- `querySelectorAll` とループで、複数要素をまとめて扱う

動作プレビュー:

<CodePreview
  sourceId="review-ex7-preview"
  htmlVisible={false}
  cssVisible={false}
  jsVisible={false}
  previewVisible={true}
>
```html
<div class="tabs">
  <div class="tabButtons">
    <button class="tabBtn isActive">概要</button>
    <button class="tabBtn">仕様</button>
    <button class="tabBtn">注意</button>
  </div>

  <div class="tabPanels">
    <div class="tabPanel isActive">概要の内容</div>
    <div class="tabPanel">仕様の内容</div>
    <div class="tabPanel">注意の内容</div>
  </div>
</div>
```

```css
.tabBtn.isActive {
  font-weight: bold;
}

.tabPanel {
  display: none;
}

.tabPanel.isActive {
  display: block;
}
```

```js
let tabBtnYosos = document.querySelectorAll(".tabBtn");
let tabPanelYosos = document.querySelectorAll(".tabPanel");

let index = 0;

for (let tabBtnYoso of tabBtnYosos) {
  let myIndex = index;
  index = index + 1;

  tabBtnYoso.addEventListener("click", function () {
    for (let btn of tabBtnYosos) {
      btn.classList.remove("isActive");
    }

    for (let panel of tabPanelYosos) {
      panel.classList.remove("isActive");
    }

    tabBtnYoso.classList.add("isActive");
    tabPanelYosos[myIndex].classList.add("isActive");
  });
}
```
</CodePreview>

目安: 25 分

<CodePreview sourceId="review-ex7-starter">
```html
<div class="tabs">
  <div class="tabButtons">
    <button class="tabBtn isActive">概要</button>
    <button class="tabBtn">仕様</button>
    <button class="tabBtn">注意</button>
  </div>

  <div class="tabPanels">
    <div class="tabPanel isActive">概要の内容</div>
    <div class="tabPanel">仕様の内容</div>
    <div class="tabPanel">注意の内容</div>
  </div>
</div>
```

```css
.tabBtn.isActive {
  font-weight: bold;
}

.tabPanel {
  display: none;
}

.tabPanel.isActive {
  display: block;
}
```

```js
let tabBtnYosos = document.querySelectorAll(".tabBtn");
let tabPanelYosos = document.querySelectorAll(".tabPanel");

// TODO:
// - どのタブをクリックしたかを判定する
// - 全てのタブ/パネルから isActive を外す
// - 対応するタブ/パネルだけ isActive を付ける
```
</CodePreview>

<Solution>
<CodePreview sourceId="review-ex7-preview" />
</Solution>
</Exercise>
