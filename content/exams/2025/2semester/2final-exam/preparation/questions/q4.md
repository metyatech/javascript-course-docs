# 問題4：ポップアップ（モーダル）のCSS穴埋め（opacity / visibility / transition / transform）

## Type

cloze

## Prompt

次の HTML / JavaScript を使って、ポップアップが表示される機能を作成する。  
この機能が正しく動作するように、CSS の空欄を埋めよ。

**HTML:**

```html
<button id="showBtn">ポップアップを開く</button> <!-- このボタンをクリックすると -->

<!-- ↑ のボタンをクリックすると、↓ 全体が表示される -->
<div class="modalLayer"> <!-- 背景（画面全体を覆う半透明の黒い要素） -->
  <div class="modalPanel"> <!-- ポップアップ本体 -->
    <p>ポップアップの内容</p>
    <button id="hideBtn">閉じる</button>
  </div>
</div>
```

**JavaScript:**

```js
let showBtnYoso = document.querySelector('#showBtn');
let hideBtnYoso = document.querySelector('#hideBtn');
let modalLayerYoso = document.querySelector('.modalLayer');

showBtnYoso.addEventListener('click', function() {
    modalLayerYoso.classList.add('isOpen');
});

hideBtnYoso.addEventListener('click', function() {
    modalLayerYoso.classList.remove('isOpen');
});
```

**CSS:**

```css
/* ポップアップ背景 */
.modalLayer {
  /* 画面全体を覆う */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* 半透明の黒い背景 */
  background-color: rgba(0, 0, 0, 0.5);

  /* 初期状態は非表示 */
  opacity: {{0}};
  visibility: hidden;
  transition: opacity 0.3s;

  /* 中央寄せ用 */
  display: flex;
  justify-content: center;
  align-items: center;
}

{{.modalLayer.isOpen}} {
  /* 表示状態 */
  opacity: {{1}};
  visibility: visible;
}

/* ポップアップ本体 */
.modalPanel {
  /* デザインの調整 */
  background-color: #fff;
  padding: 20px;
  border-radius: 6px;

  /* 初期状態は少し小さめ */
  transform: scale(0.9);
  transition: {{/transform|all/}} 0.3s;
}

{{.modalLayer.isOpen .modalPanel}} {
  /* 元の大きさに戻す */
  transform: scale(1);
}
```

**動作イメージ:**

![問題4の期待動作](../img/js2-final-preparation-q4.gif)

### 本試験では

クラス名や、アニメーションの動き方（スライド/拡大など）が変わります。`opacity` / `visibility` / `transition` / `transform` の役割を理解して埋めてください。

## Scoring

- 4: 1つ目の穴埋めが正答
- 4: 2つ目の穴埋めが正答
- 4: 3つ目の穴埋めが正答
- 4: 4つ目の穴埋めが正答
- 4: 5つ目の穴埋めが正答

## Explanation

### 解説

この問題は、モーダル（ポップアップ）を作るときによく使うCSSの組み合わせを確認する問題です。

1. **画面全体を覆う**  
   `position: fixed;` と `top: 0; left: 0; width: 100%; height: 100%;` により、画面全体を覆います。  
2. **初期状態は見えない + 触れない**  
   - `opacity: 0;` で透明にする  
   - `visibility: hidden;` で完全に非表示にする（クリックもできない）  
   `opacity` だけだと「見えないけどクリックできる」状態になるので、`visibility` も併用します。  
3. **表示状態（クラスが付いたとき）**  
   表示するときは、  
   - `opacity: 1;` で見えるようにする  
   - `visibility: visible;` で表示にする  
4. **アニメーションを滑らかにする**  
   - `transition: opacity 0.3s;` で背景のフェードを滑らかにする  
   - `transition: transform 0.3s;` で本体の動きを滑らかにする（`all` でも可）  
5. **transformで動きを作る**  
   今回は `scale` を使って「少し小さい状態から元の大きさへ」という動きを作っています。`translateY` を使えば「下から上へスライドする」動きにもできます。  
